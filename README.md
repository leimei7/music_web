# 音乐网站 - 核心功能实现

[![Python Version](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![Flask Version](https://img.shields.io/badge/Flask-2.0%2B-green)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

一个基于 Flask 构建的轻量级音乐网站，支持音乐搜索、播放、收藏、下载等核心功能，集成 QQ 扫码登录自动获取音乐播放密钥（U_key），提供个性化配置和多场景页面管理。

## ✨ 核心功能

### 🎵 音乐核心能力
- 🔍 关键词音乐搜索（对接第三方音乐接口）
- 🎶 高音质播放链接自动获取
- ❤️ 音乐收藏管理（添加/删除/分页查看）
- 📥 多首音乐批量下载
- 🔄 自动更新音乐播放密钥（U_key）

### 🔐 安全与认证
- 🔑 密码 MD5 加密存储与验证
- 🛡️ 登录状态校验（装饰器实现权限控制）
- 📱 QQ 扫码登录（自动获取 U_key）
- 📝 会话管理（永久登录状态）

### ⚙️ 系统特性
- 🎨 个性化主题切换
- ⚡ 收藏列表缓存优化（减少数据库压力）
- 🧵 异步二维码状态检测（不阻塞主线程）
- 📄 分页数据展示（收藏列表分页）
- ⚙️ 后台参数配置（U_key/flag/站点信息/主题）

### 📋 页面体系
| 页面名称       | 访问路径        | 核心功能                     |
|----------------|-----------------|------------------------------|
| 首页           | `/` / `/index/` | 网站核心功能入口             |
| 收藏列表       | `/collect/<page>/` | 分页查看收藏的音乐       |
| 下载页         | `/download/`    | 音乐下载操作界面             |
| 搜索结果页     | `/select/`      | 音乐搜索结果展示             |
| 系统设置页     | `/admin/`       | 个性化配置（用户名/密码/U_key等） |
| 登录页         | `/login/`       | 账号密码登录验证             |
| 分类导航页     | `/titok/`/`/yellow/`/`/book/` | 多场景入口       |
| 升级页         | `/upgrade/`     | 系统升级相关                 |

## 🛠 技术栈

### 后端核心依赖
| 技术/库         | 版本要求       | 核心用途                     |
|-----------------|----------------|------------------------------|
| Flask           | 2.0+           | Web 框架（路由/模板/会话）    |
| SQLAlchemy      | 2.0+           | 数据库 ORM（数据模型/操作）   |
| Flask-Cache     | 2.0+           | 数据缓存（收藏列表优化）      |
| Requests        | 2.28+          | 网络请求（API 调用/QQ 登录）  |
| Threading       | 内置           | 异步任务（二维码状态检测）    |
| hashlib         | 内置           | MD5 密码加密                 |
| urllib3         | 1.26+          | HTTP 请求优化（忽略SSL警告）  |
| base64          | 内置           | 二维码图片编码（前端展示）    |
| re              | 内置           | 正则表达式（提取登录凭证）    |

### 前端（模板层）
- HTML5 + CSS3（响应式设计）
- JavaScript（AJAX 异步交互）
- Jinja2（Flask 模板引擎）

## 📁 项目结构
